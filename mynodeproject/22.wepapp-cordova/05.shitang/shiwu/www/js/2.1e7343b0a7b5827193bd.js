webpackJsonp([2],{K31e:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("Dd8w"),o=e.n(r),a=e("SC/i"),n=e("NYxO"),i={data:function(){var s=this;return{show:!1,canUse:!1,showLoad:!1,ruleForm2:{pass:"123321",user:"Sundar"},rules2:{pass:[{validator:function(t,e,r){s.ruleForm2.user?""===e?r(new Error("请输入密码")):(s.canUse=!0,r()):(s.ruleForm2.pass="",r(new Error("请先输入用户名")))},trigger:"blur"}],user:[{validator:function(s,t,e){if(!t)return e(new Error("用户名不能为空"));e()},trigger:"blur"}]}}},created:function(){var s=this;this.ruleForm2.user&&this.ruleForm2.pass&&(this.canUse=!0),setTimeout(function(){s.show=!0},20)},methods:o()({submitForm:function(s){var t=this;this.$refs[s].validate(function(s){if(!s)return console.log("error submit!!"),!1;t.showLoad=!0,t.$axios({method:"post",url:"api/AppLogin/Login",data:{Account:t.ruleForm2.user,Password:t.ruleForm2.pass}}).then(function(s){console.log(s),1===s.data.Code?(t.setUserToken(s.data.Data),setTimeout(function(){t.showLoad=!1,t.$router.push("/index")},1e3)):t.$alert(s.Message,{customClass:"myConfirm"})}).catch(function(s){t.showLoad=!1,t.$alert("请求出错！！",{customClass:"myConfirm"})})})},resetForm:function(s){this.canUse=!1,this.$refs[s].resetFields()}},Object(n.b)({setUserToken:"SET_USER_TOKEN"})),components:{Loading:a.a},watch:{"ruleForm2.pass":function(s){console.log(s),s.pass&&s.user&&(this.canUse=!0)}}},l={render:function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("transition",{attrs:{name:"slide"}},[s.show?r("div",{staticClass:"login"},[s.showLoad?r("div",{ref:"loading",staticClass:"loading_out"},[r("loading",{staticClass:"loading"})],1):s._e(),s._v(" "),r("div",{staticClass:"bg"}),s._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"top"},[r("div",{staticClass:"img"},[r("img",{attrs:{src:e("SyTM"),alt:""}})]),s._v(" "),r("p",[s._v("校园食堂")])]),s._v(" "),r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:s.ruleForm2,"status-icon":"",rules:s.rules2,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"",prop:"user"}},[r("i",{staticClass:"iconfont"},[s._v("")]),s._v(" "),r("el-input",{staticClass:"user defaultInput",attrs:{placeholder:"用户名"},model:{value:s.ruleForm2.user,callback:function(t){s.$set(s.ruleForm2,"user",t)},expression:"ruleForm2.user"}})],1),s._v(" "),r("el-form-item",{staticClass:"passOut",attrs:{prop:"pass"}},[r("i",{staticClass:"iconfont"},[s._v("")]),s._v(" "),r("el-input",{staticClass:"pass defaultInput",attrs:{placeholder:"密码",type:"password"},model:{value:s.ruleForm2.pass,callback:function(t){s.$set(s.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1),s._v(" "),r("el-form-item",[r("el-button",{class:{btn:!0,canUse:s.canUse},attrs:{type:"primary"},on:{click:function(t){s.submitForm("ruleForm2")}}},[s._v("登录")]),s._v(" "),r("el-button",{staticClass:"btn btn_reset",on:{click:function(t){s.resetForm("ruleForm2")}}},[s._v("重置")])],1)],1)],1)]):s._e()])},staticRenderFns:[]};var u=e("VU/8")(i,l,!1,function(s){e("xlFb")},"data-v-c3a977bc",null);t.default=u.exports},xlFb:function(s,t){}});
//# sourceMappingURL=2.1e7343b0a7b5827193bd.js.map